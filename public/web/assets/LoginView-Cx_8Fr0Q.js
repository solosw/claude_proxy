import{_ as v,r as c,c as I,o as w,a as t,b as l,d as r,w as a,e as K,f as s,u as V,E as u,g as b}from"./index-BjrojJR2.js";const A={class:"login-page"},P={class:"login-card"},x={__name:"LoginView",setup(C){const p=V(),o=c(localStorage.getItem("token")||""),n=c(!1),i=async()=>{if(!o.value){u.error("请输入 API Key");return}n.value=!0;try{await b.get("/api/models",{headers:{"X-API-Key":o.value}}),localStorage.setItem("token",o.value),u.success("登录成功"),p.push("/models")}catch{u.error("API Key 无效或请求失败")}finally{n.value=!1}};return(m,e)=>{const _=s("el-input"),d=s("el-form-item"),f=s("el-button"),g=s("el-form");return w(),I("div",A,[t("div",P,[e[2]||(e[2]=t("h1",{class:"title"},"ClaudeRouter 登录",-1)),e[3]||(e[3]=t("p",{class:"subtitle"},[r(" 请输入配置在后端 "),t("code",null,"config.yaml"),r(" 中的 API Key ")],-1)),l(g,{onSubmit:K(i,["prevent"])},{default:a(()=>[l(d,{label:"API Key"},{default:a(()=>[l(_,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=y=>o.value=y),placeholder:"请输入 API Key","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),l(d,null,{default:a(()=>[l(f,{type:"primary",loading:n.value,style:{width:"100%"},onClick:i},{default:a(()=>e[1]||(e[1]=[r(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1}),e[4]||(e[4]=t("p",{class:"hint"}," 后续在 Claude Code 中配置该 API Key，即可通过本中转站调用不同模型服务商。 ",-1))])])}}},h=v(x,[["__scopeId","data-v-7c5c844d"]]);export{h as default};
